# CoreDNS 
یک سرویس DNS متن‌باز است که در کوبرنتیز به عنوان سرویس DNS اصلی استفاده می‌شود. این سرویس به عنوان یک توزیع‌کننده DNS عمل می‌کند و به Podها و سایر مؤلفه‌های کوبرنتیز این امکان را می‌دهد که از طریق نام‌های DNS به یکدیگر دسترسی پیدا کنند.

مهمترین وظایف CoreDNS در کوبرنتیز عبارتند از:

**ترجمه نام DNS به آدرس IP:** CoreDNS مسئول ترجمه نام‌های DNS به آدرس‌های IP است. این امکان به Podها اجازه می‌دهد که با یکدیگر بر اساس نام DNS ارتباط برقرار کنند.

**پشتیبانی از خدمات Kubernetes:** CoreDNS به خدمات Kubernetes از جمله Service Discovery و DNS-Based Service Discovery پشتیبانی می‌کند. این به این معناست که می‌توان از نام سرویس‌ها برای دسترسی به Podها استفاده کرد.

**پشتیبانی از تنظیمات چندگانه:** CoreDNS امکان پیکربندی چندین نوع تنظیمات DNS را فراهم می‌کند و این امکان را می‌دهد تا به راحتی قابلیت‌های مختلفی از جمله Forwarding DNS و Caching را فراهم کند.

**اعتبارسنجی DNSSEC:** CoreDNS از DNSSEC (DNS Security Extensions) پشتیبانی می‌کند که امکان اعتبارسنجی اطلاعات DNS را فراهم می‌کند.

توجه داشته باشید که CoreDNS به صورت پیش‌فرض در بسیاری از نصب‌های کوبرنتیز به عنوان سرویس DNS اصلی استفاده می‌شود و می‌تواند توسط مدیران سیستم به دلخواه پیکربندی شود.

# view core dns config
```bash
kubectl describe  configmaps -n kube-system 
...
clusterDNS:
- 10.96.0.10
clusterDomain: cluster.local
...
```
# Sample DNS Name
![image](https://github.com/milad6745/CSS/assets/113288076/ab3b90ec-a044-4b98-8d00-de71359a23c1)


# Example

 ایجاد یک پاد در یک namespace و سپس تست DNS آن است.

**گام‌ها:**

1. **ساخت یک پاد:**
   از دستور `kubectl run` برای ایجاد یک پاد ساده با نام "test-pod" استفاده کنید:

   ```bash
   kubectl run -i --tty --rm test-pod --image=busybox --restart=Never --namespace=my-namespace
   ```

   این دستور یک پاد تعاملی ایجاد می‌کند که از تصویر `busybox` استفاده می‌کند.

2. **تست DNS:**
   حالا در پنجره تعاملی پاد، از دستور `nslookup` برای تست DNS استفاده کنید:

   ```bash
   nslookup kubernetes.default
   ```

   این دستور آدرس IP سرویس DNS پیشفرض کوبرنتیز را برمی‌گرداند.

   سپس می‌توانید همین کار را برای دیگر موارد نیز امتحان کنید، مانند:

   ```bash
   nslookup google.com
   ```

   این دستور آدرس IP مربوط به دامنه "google.com" را نشان می‌دهد.

3. **خروج از پاد:**
   برای خروج از پاد، می‌توانید از دستور `exit` استفاده کنید.

   ```bash
   exit
   ```

   این دستور پاد را بسته و از پردازه‌ی تعاملی خارج می‌شود.
